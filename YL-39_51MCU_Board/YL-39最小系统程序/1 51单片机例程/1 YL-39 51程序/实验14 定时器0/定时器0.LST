C51 COMPILER V9.00   定时器0                                                               07/26/2011 11:47:52 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE 定时器0
OBJECT MODULE PLACED IN 定时器0.OBJ
COMPILER INVOKED BY: D:\Keil\C51\BIN\C51.EXE 定时器0.c BROWSE DEBUG OBJECTEXTEND

line level    source

*** WARNING C500 IN LINE 1 OF 定时器0.C: LICENSE ERROR (R208: RENEW LICENSE ID CODE (LIC))

   1          
   2          /*********************************************************************************
   3          * 【编写时间】： 2011.07.07
   4          * 【作    者】： 雁翎电子
   5          * 【版    本】： V1.0
   6          * 【网    站】： http://ylelectronic.taobao.com/ 
   7          * 【Q      Q】： 348439350
   8          * 【声    明】： 此程序仅用于学习与参考，引用请注明版权和作者信息！
   9          * 【函数功能】： 数码管实验-数字钟                                                                                  
  10          * 【使用说明】： 注意先用跳线冒将J4短接，使用跑马灯模块
  11                                           定时器0――通过定时器定时实现led灯闪烁
  12          **********************************************************************************/
  13          
  14          #include<reg52.h> //包含特殊功能寄存器的定义
  15          #define LED P1     //宏定义LED代表P1
  16          
  17          /* 函数申明 -----------------------------------------------*/
  18          void Init_Timer0(void);
  19          
  20          
  21          /*
  22          ********************************************************************************
  23          ** 函数名称 ： main(void)
  24          ** 函数功能 ： 主函数
  25          ********************************************************************************
  26          */
  27          main()
  28          {
  29   1              Init_Timer0();
  30   1              while(1);
  31   1      }
  32          
  33          
  34          /*
  35          ********************************************************************************
  36          ** 函数名称 ： Init_Timer0(void)
  37          ** 函数功能 ： 定时器初始化子程序
  38          ********************************************************************************
  39          */
  40          void Init_Timer0(void)            //定时器初始化子程序
  41          {
  42   1              TMOD |= 0x01;     //使用模式1，16位定时器，使用"|"符号可以在使用多个定时器时不受影响                 
  43   1              TH0=0x00;             //给定初值，这里使用定时器最大值从0开始计数一直到65535溢出
  44   1              TL0=0x00;
  45   1              EA=1;            //总中断打开
  46   1              ET0=1;           //定时器中断打开
  47   1              TR0=1;           //定时器开关打开
  48   1      }
  49          
  50          /*
  51          ********************************************************************************
  52          ** 函数名称 ： Timer0_isr(void) interrupt 1 using 1
  53          ** 函数功能 ： 定时器中断程序
  54          ********************************************************************************
C51 COMPILER V9.00   定时器0                                                               07/26/2011 11:47:52 PAGE 2   

  55          */
  56          void Timer0_isr(void) interrupt 1 using 1
  57          {
  58   1              TH0=0x00;                 //重新赋值，方式1是16位计数器，不能硬件重装初始值
  59   1              TL0=0x00;
  60   1              
  61   1              LED=~LED;        //指示灯反相，可以看到闪烁
  62   1      
  63   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     30    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
